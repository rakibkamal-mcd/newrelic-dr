{
  "name": "DR-Monitoring",
  "description": null,
  "permissions": "PUBLIC_READ_WRITE",
  "pages": [
    {
      "name": "Mcflow-Active",
      "description": null,
      "widgets": [
        {
          "title": "MSK Cluster Header",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "# MSK Cluster"
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 2,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "### Network Error Metrics"
          }
        },
        {
          "title": "NetworkRx & NetworkTx Dropped",
          "layout": {
            "column": 1,
            "row": 3,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.NetworkRxDropped`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%' TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              },
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.NetworkTxDropped`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%' TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Network Error Rate Per Broker Per Minute",
          "layout": {
            "column": 5,
            "row": 3,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT latest(kafka_network_RequestMetrics_OneMinuteRate) FROM Metric WHERE (name = 'ErrorsPerSec' AND error!='NONE' AND instance LIKE '%stg93%' AND instance LIKE '%us-east-1%' ) FACET instance TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Network Errors By Type",
          "layout": {
            "column": 9,
            "row": 3,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT latest(kafka_network_RequestMetrics_OneMinuteRate) FROM Metric WHERE (name = 'ErrorsPerSec' AND error!='NONE' AND instance LIKE '%stg93%' AND instance LIKE '%us-east-1%' ) FACET error TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "NetworkRx & NetworkTx Errors",
          "layout": {
            "column": 1,
            "row": 6,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.NetworkRxErrors`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%' TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              },
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.NetworkTxErrors`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%' TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Fetch Purgatory Size - Number of fetch requests currently being held by the broker",
          "layout": {
            "column": 5,
            "row": 6,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT latest(kafka_server_DelayedOperationPurgatory_Value) FROM Metric WHERE (name = 'PurgatorySize' AND delayedOperation = 'Fetch' AND instance LIKE '%stg93%' AND instance LIKE '%us-east-1%') FACET instance TIMESERIES AUTO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Purgatory Size - Size of staged requests to be fulfilled",
          "layout": {
            "column": 9,
            "row": 6,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT latest(kafka_server_DelayedOperationPurgatory_Value) FROM Metric WHERE (name = 'PurgatorySize' AND instance LIKE '%stg93%' AND instance LIKE '%us-east-1%') FACET instance TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "MSK Network Metrics Header",
          "layout": {
            "column": 1,
            "row": 9,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "### Network Metrics"
          }
        },
        {
          "title": "# of Swaps Used",
          "layout": {
            "column": 1,
            "row": 10,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT max(`provider.swapUsed.Maximum`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Avg Bytes In per Sec",
          "layout": {
            "column": 5,
            "row": 10,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`provider.bytesInPerSec.Average`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Avg Bytes Out per Sec",
          "layout": {
            "column": 9,
            "row": 10,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`provider.bytesOutPerSec.Average`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Active Client Connection Count",
          "layout": {
            "column": 1,
            "row": 13,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.ClientConnectionCount`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%' TIMESERIES auto FACET aws.kafka.ClientAuthentication,aws.kafka.ClusterName"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Avg Msgs in Per Sec",
          "layout": {
            "column": 5,
            "row": 13,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`provider.messagesInPerSec.Average`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Zookeeper Request Latency (ms)",
          "layout": {
            "column": 9,
            "row": 13,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.ZooKeeperRequestLatencyMsMean`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%' TIMESERIES auto FACET aws.kafka.ClusterName,aws.kafka.BrokerID"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "units": {
              "unit": "MS"
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "MSK Resourse Utilization Header",
          "layout": {
            "column": 1,
            "row": 16,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "### Resource Metrics"
          }
        },
        {
          "title": "Consumer Group Offset Lag",
          "layout": {
            "column": 1,
            "row": 17,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.SumOffsetLag`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%' TIMESERIES auto FACET aws.kafka.ConsumerGroup,aws.kafka.Topic"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Comsumer Offset Lag - Topic,GroupID",
          "layout": {
            "column": 5,
            "row": 17,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT latest(kafka_consumer_group_ConsumerLagMetrics_Value) FROM Metric WHERE (name like 'SumOffsetLag' AND instance LIKE '%stg93%' AND instance LIKE '%us-east-1%') FACET topic,groupId TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Log Disk Usage (%)",
          "layout": {
            "column": 9,
            "row": 17,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT max(`provider.kafkaDataLogsDiskUsed.Maximum`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "MSK Brokers CPU Average",
          "layout": {
            "column": 1,
            "row": 20,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`provider.cpuUser.Average`) + average(`provider.cpuSystem.Average`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Number of Partitions",
          "layout": {
            "column": 5,
            "row": 20,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.PartitionCount`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%' FACET aws.kafka.ClusterName, aws.kafka.BrokerID SINCE 30 MINUTES AGO TIMESERIES "
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Avg Root Disk Used (%)",
          "layout": {
            "column": 9,
            "row": 20,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`provider.rootDiskUsed.Average`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Avg Memory Usage",
          "layout": {
            "column": 1,
            "row": 23,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`provider.memoryUsed.Average`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "# of Under Replicated Partitions",
          "layout": {
            "column": 5,
            "row": 23,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT max(`provider.underReplicatedPartitions.Maximum`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Active Controller Count",
          "layout": {
            "column": 9,
            "row": 23,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT sum(`aws.kafka.ActiveControllerCount`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%' TIMESERIES auto FACET aws.kafka.ClusterName"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "# of Under Min ISR Partitions",
          "layout": {
            "column": 1,
            "row": 26,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT max(`provider.underMinIsrPartitionCount.Maximum`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-us-east-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 29,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "### MSK Logs"
          }
        },
        {
          "title": "Total Logs",
          "layout": {
            "column": 1,
            "row": 30,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "dataFormatters": [],
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 734057,
                "query": "SELECT count(*) AS 'Total Logs' FROM Log where message LIKE '%%' and `aws.logGroup` LIKE '/digital-mcflow-stg93-stage-us-msk/msk'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Error Logs",
          "layout": {
            "column": 3,
            "row": 30,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "dataFormatters": [],
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT count(*) AS 'Error Logs' FROM Log where message LIKE '%ERROR%' and `aws.logGroup` LIKE '/digital-mcflow-stg93-stage-us-msk/msk'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Error Log By Type",
          "layout": {
            "column": 5,
            "row": 30,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "dataFormatters": [],
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT count(*) FROM Log where `aws.logGroup` LIKE '/digital-mcflow-stg93-stage-us-msk/msk' AND message LIKE '%ERROR%' FACET message"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Error Logs",
          "layout": {
            "column": 9,
            "row": 30,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT count(*) FROM Log where `aws.logGroup` LIKE '/digital-mcflow-stg93-stage-us-msk/msk' AND message LIKE '%ERROR%' FACET message TIMESERIES AUTO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 33,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "# Schema Registry"
          }
        },
        {
          "title": "Pod Information",
          "layout": {
            "column": 1,
            "row": 34,
            "width": 4,
            "height": 6
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 734056,
                "query": "FROM Metric SELECT latest(k8s.clusterName) as 'Cluster Name', latest(k8s.status) as 'Status', latest(k8s.createdBy) as 'Created By', latest(k8s.createdKind) as 'Created Kind', average(net.errorsPerSecond) as 'Errors Per Second', latest(startTime) * 1000 as 'Start Time', uniqueCount(entity.id) as 'Number of pods running' WHERE metricName = 'k8s.pod.startTime' AND entity.name LIKE '%mcflow-schema-registry-primary%' AND k8s.namespaceName = 'us-stg93-mesh-core'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "CPU Utilization",
          "layout": {
            "column": 5,
            "row": 34,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 734056,
                "query": "FROM Metric SELECT max(k8s.container.cpuCoresUtilization) AS 'CPU utilization (%)' WHERE entity.name LIKE '%mcflow-schema-registry-primary%' AND k8s.namespaceName = 'us-stg93-mesh-core' TIMESERIES AUTO FACET entity.name"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Memory Utilization",
          "layout": {
            "column": 9,
            "row": 34,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 734056,
                "query": "FROM Metric SELECT max(k8s.container.memoryWorkingSetUtilization) AS 'Memory utilization (%)' WHERE entity.name LIKE '%mcflow-schema-registry-primary%' AND k8s.namespaceName = 'us-stg93-mesh-core' TIMESERIES AUTO FACET entity.name"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Storage Utilization (%)",
          "layout": {
            "column": 5,
            "row": 37,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 734056,
                "query": "SELECT max(k8s.container.fsUsedPercent) AS 'Storage utlization (%)' FROM Metric WHERE entity.name LIKE '%mcflow-schema-registry-primary%' AND k8s.namespaceName = 'us-stg93-mesh-core' TIMESERIES auto FACET entity.name"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Network Metrics",
          "layout": {
            "column": 9,
            "row": 37,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "colors": {
              "seriesOverrides": [
                {
                  "color": "#ff0000",
                  "seriesName": "Errors / sec"
                }
              ]
            },
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 734056,
                "query": "FROM Metric SELECT max(k8s.pod.netRxBytesPerSecond) / 1000 AS 'Received KBps', max(k8s.pod.netTxBytesPerSecond) / 1000 AS 'Transmitted KBps', max(k8s.pod.netErrorsPerSecond) AS 'Errors / sec' WHERE entity.name LIKE '%mcflow-schema-registry-primary%' AND k8s.namespaceName = 'us-stg93-mesh-core' TIMESERIES AUTO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 40,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "### Schema Registry Log Metrics"
          }
        },
        {
          "title": "Total Logs",
          "layout": {
            "column": 1,
            "row": 41,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT count(*) As 'Total Logs' FROM Log WHERE message LIKE '%us-stg93-core-java-mesh-container-schema-registry%'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Total Error Logs",
          "layout": {
            "column": 3,
            "row": 41,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT count(*) As 'Total Logs' FROM Log WHERE message LIKE '%us-stg93-core-java-mesh-container-schema-registry%' AND message LIKE '%error%'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Error Logs By Type",
          "layout": {
            "column": 5,
            "row": 41,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT count(*) As 'Total Logs' FROM Log WHERE message LIKE '%us-stg93-core-java-mesh-container-schema-registry%' AND message LIKE '%error%' FACET message"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Error Logs",
          "layout": {
            "column": 9,
            "row": 41,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT count(*) As 'Total Logs' FROM Log WHERE message LIKE '%us-stg93-core-java-mesh-container-schema-registry%' AND message LIKE '%error%' FACET message TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        }
      ]
    },
    {
      "name": "Mcflow-Passive",
      "description": null,
      "widgets": [
        {
          "title": "MSK Cluster Header",
          "layout": {
            "column": 1,
            "row": 1,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "# MSK Cluster"
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 2,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "### MM2 Replication Metrics"
          }
        },
        {
          "title": "MM2 Checkpoint Latency (Latest, Avg, Max)",
          "layout": {
            "column": 1,
            "row": 3,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT (latest(kafka_connect_mirror_mirrorcheckpointconnector_checkpoint_latency_ms) AS 'Latest MM2 Checkpoint Latency', latest(kafka_connect_mirror_mirrorcheckpointconnector_checkpoint_latency_ms_avg) AS 'AVG MM2 Checkpoint Latency', latest(kafka_connect_mirror_mirrorcheckpointconnector_checkpoint_latency_ms_max) AS 'MAX MM2 Checkpoint Latency') FROM Metric WHERE instrumentation.source = 'prometheus.eustg93.vet-stage.digitalecp.mcd.com' FACET target TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "units": {
              "unit": "MS"
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "MM2 Source Connector Byte Count - Topic,Partition",
          "layout": {
            "column": 5,
            "row": 3,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT sum(kafka_connect_mirror_mirrorsourceconnector_byte_count) FROM Metric WHERE instrumentation.source = 'prometheus.eustg93.vet-stage.digitalecp.mcd.com' FACET topic,partition TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Record Age during MM2 Consumption (Latest, Max)",
          "layout": {
            "column": 9,
            "row": 3,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT (latest(kafka_connect_mirror_mirrorsourceconnector_record_age_ms) AS 'Latest Record Age', latest(kafka_connect_mirror_mirrorsourceconnector_record_age_ms_max) AS 'Max Record Age') FROM Metric TIMESERIES AUTO FACET topic"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "units": {
              "unit": "MS"
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Replicated Record Count - Topic",
          "layout": {
            "column": 1,
            "row": 6,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT sum(kafka_connect_mirror_mirrorsourceconnector_record_count) FROM Metric WHERE instrumentation.source = 'prometheus.eustg93.vet-stage.digitalecp.mcd.com' TIMESERIES AUTO FACET topic"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "MM2 Replication Latency By Topic - (timespan between each record's timestamp and downstream ACK)",
          "layout": {
            "column": 5,
            "row": 6,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT (latest(kafka_connect_mirror_mirrorsourceconnector_replication_latency_ms) as 'Latest MM2 Replication Latency') FROM Metric WHERE instrumentation.source = 'prometheus.eustg93.vet-stage.digitalecp.mcd.com' TIMESERIES AUTO FACET topic"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "units": {
              "unit": "MS"
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Latest Record Replication Count",
          "layout": {
            "column": 9,
            "row": 6,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT (latest(kafka_connect_mirror_mirrorsourceconnector_record_count) as 'Latest Record Replication Count', latest(kafka_connect_mirror_mirrorsourceconnector_replication_latency_ms) as 'Latest Record Replication Latency' ) FROM Metric WHERE instrumentation.source = 'prometheus.eustg93.vet-stage.digitalecp.mcd.com'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 9,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "### Network Error Metrics"
          }
        },
        {
          "title": "NetworkRx & NetworkTx Dropped",
          "layout": {
            "column": 1,
            "row": 10,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.NetworkRxDropped`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central%' TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              },
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.NetworkTxDropped`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central%' TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Network Error Rate Per Broker Per Minute",
          "layout": {
            "column": 5,
            "row": 10,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT latest(kafka_network_RequestMetrics_OneMinuteRate) FROM Metric WHERE (name = 'ErrorsPerSec' AND error!='NONE' AND instance LIKE '%stg93%' AND instance LIKE '%eu-central-1%' ) FACET instance TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Network Errors By Type",
          "layout": {
            "column": 9,
            "row": 10,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT latest(kafka_network_RequestMetrics_OneMinuteRate) FROM Metric WHERE (name = 'ErrorsPerSec' AND error!='NONE' AND instance LIKE '%stg93%' AND instance LIKE '%eu-central-1%' ) FACET error TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "NetworkRx & NetworkTx Errors",
          "layout": {
            "column": 1,
            "row": 13,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.NetworkRxErrors`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%' TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              },
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.NetworkTxErrors`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%' TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Fetch Purgatory Size - Number of fetch requests currently being held by the broker",
          "layout": {
            "column": 5,
            "row": 13,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT latest(kafka_server_DelayedOperationPurgatory_Value) FROM Metric WHERE (name = 'PurgatorySize' AND delayedOperation = 'Fetch' AND instance LIKE '%stg93%' AND instance LIKE '%eu-central-1%') FACET instance TIMESERIES AUTO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Purgatory Size - Size of staged requests to be fulfilled",
          "layout": {
            "column": 9,
            "row": 13,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT latest(kafka_server_DelayedOperationPurgatory_Value) FROM Metric WHERE (name = 'PurgatorySize' AND instance LIKE '%stg93%' AND instance LIKE '%eu-central-1%') FACET instance TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "MSK Network Metrics Header",
          "layout": {
            "column": 1,
            "row": 16,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "### Network Metrics"
          }
        },
        {
          "title": "# of Swaps Used",
          "layout": {
            "column": 1,
            "row": 17,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT max(`provider.swapUsed.Maximum`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Avg Bytes In per Sec",
          "layout": {
            "column": 5,
            "row": 17,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`provider.bytesInPerSec.Average`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Avg Bytes Out per Sec",
          "layout": {
            "column": 9,
            "row": 17,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`provider.bytesOutPerSec.Average`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Active Client Connection Count",
          "layout": {
            "column": 1,
            "row": 20,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.ClientConnectionCount`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%' TIMESERIES auto FACET aws.kafka.ClientAuthentication,aws.kafka.ClusterName"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Avg Msgs in Per Sec",
          "layout": {
            "column": 5,
            "row": 20,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`provider.messagesInPerSec.Average`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Zookeeper Request Latency (ms)",
          "layout": {
            "column": 9,
            "row": 20,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.ZooKeeperRequestLatencyMsMean`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%' TIMESERIES auto FACET aws.kafka.BrokerID"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "MSK Resource Utilization Header",
          "layout": {
            "column": 1,
            "row": 23,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "### Resource Metrics"
          }
        },
        {
          "title": "Consumer Group Offset Lag",
          "layout": {
            "column": 1,
            "row": 24,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.SumOffsetLag`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%' TIMESERIES auto FACET aws.kafka.ConsumerGroup,aws.kafka.Topic"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Comsumer Offset Lag - Topic,GroupID",
          "layout": {
            "column": 5,
            "row": 24,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT latest(kafka_consumer_group_ConsumerLagMetrics_Value) FROM Metric WHERE (name like 'SumOffsetLag' AND instance LIKE '%stg93%' AND instance LIKE '%eu-central-1%') FACET topic,groupId TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Log Disk Usage (%)",
          "layout": {
            "column": 9,
            "row": 24,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT max(`provider.kafkaDataLogsDiskUsed.Maximum`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "MSK Brokers CPU Average",
          "layout": {
            "column": 1,
            "row": 27,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`provider.cpuUser.Average`) + average(`provider.cpuSystem.Average`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Number of Partitions",
          "layout": {
            "column": 5,
            "row": 27,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`aws.kafka.PartitionCount`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%' FACET aws.kafka.ClusterName, aws.kafka.BrokerID SINCE 30 MINUTES AGO TIMESERIES "
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Avg Root Disk Used (%)",
          "layout": {
            "column": 9,
            "row": 27,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`provider.rootDiskUsed.Average`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Avg Memory Usage",
          "layout": {
            "column": 1,
            "row": 30,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT average(`provider.memoryUsed.Average`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "# of Under Replicated Partitions",
          "layout": {
            "column": 5,
            "row": 30,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT max(`provider.underReplicatedPartitions.Maximum`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Active Controller Count",
          "layout": {
            "column": 9,
            "row": 30,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT sum(`aws.kafka.ActiveControllerCount`) FROM Metric WHERE aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%' TIMESERIES auto FACET aws.kafka.ClusterName"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "# of Under Min ISR Partitions",
          "layout": {
            "column": 1,
            "row": 33,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT max(`provider.underMinIsrPartitionCount.Maximum`) FROM AwsMskBrokerSample WHERE (provider='AwsMskBroker' AND aws.kafka.ClusterName LIKE '%digital-mcflow-stg93-stage-us-msk-eu-central-1%') TIMESERIES auto FACET aws.kafka.ClusterName, aws.kafka.BrokerID"
              }
            ],
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 36,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "### MSK Logs"
          }
        },
        {
          "title": "Total Logs",
          "layout": {
            "column": 1,
            "row": 37,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "dataFormatters": [],
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 734057,
                "query": "SELECT count(*) AS 'Total Logs' FROM Log where `aws.logGroup` LIKE '/digital-mcflow-stg93-stage-us-msk/msk' AND aws.logStream LIKE '%eu-central-1%'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Error Logs",
          "layout": {
            "column": 3,
            "row": 37,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "dataFormatters": [],
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT count(*) AS 'Error Logs' FROM Log where message LIKE '%ERROR%' and `aws.logGroup` LIKE '/digital-mcflow-stg93-stage-us-msk/msk' AND aws.logStream LIKE '%eu-central-1%'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Error Log By Type",
          "layout": {
            "column": 5,
            "row": 37,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "dataFormatters": [],
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT count(*) FROM Log where `aws.logGroup` LIKE '/digital-mcflow-stg93-stage-us-msk/msk' AND message LIKE '%ERROR%' AND aws.logStream LIKE '%eu-central-1%' FACET message"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Error Logs",
          "layout": {
            "column": 9,
            "row": 37,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT count(*) FROM Log where `aws.logGroup` LIKE '/digital-mcflow-stg93-stage-us-msk/msk' AND message LIKE '%ERROR%' AND aws.logStream LIKE '%eu-central-1%' FACET message TIMESERIES AUTO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 40,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "# Schema Registry"
          }
        },
        {
          "title": "Pod Information",
          "layout": {
            "column": 1,
            "row": 41,
            "width": 4,
            "height": 6
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 734056,
                "query": "FROM Metric SELECT latest(k8s.clusterName) as 'Cluster Name', latest(k8s.status) as 'Status', latest(k8s.createdBy) as 'Created By', latest(k8s.createdKind) as 'Created Kind', average(net.errorsPerSecond) as 'Errors Per Second', latest(startTime) * 1000 as 'Start Time', uniqueCount(entity.id) as 'Number of pods running' WHERE metricName = 'k8s.pod.startTime' AND entity.name LIKE '%mcflow-schema-registry-primary%' AND k8s.namespaceName = 'us-stg93-mesh-core'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "CPU Utilization",
          "layout": {
            "column": 5,
            "row": 41,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 734056,
                "query": "FROM Metric SELECT max(k8s.container.cpuCoresUtilization) AS 'CPU utilization (%)' WHERE entity.name LIKE '%mcflow-schema-registry-primary%' AND k8s.namespaceName = 'us-stg93-mesh-core' TIMESERIES AUTO FACET entity.name"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Memory Utilization",
          "layout": {
            "column": 9,
            "row": 41,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 734056,
                "query": "FROM Metric SELECT max(k8s.container.memoryWorkingSetUtilization) AS 'Memory utilization (%)' WHERE entity.name LIKE '%mcflow-schema-registry-primary%' AND k8s.namespaceName = 'us-stg93-mesh-core' TIMESERIES AUTO FACET entity.name"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Storage Utilization (%)",
          "layout": {
            "column": 5,
            "row": 44,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 734056,
                "query": "SELECT max(k8s.container.fsUsedPercent) AS 'Storage utlization (%)' FROM Metric WHERE entity.name LIKE '%mcflow-schema-registry-primary%' AND k8s.namespaceName = 'us-stg93-mesh-core' TIMESERIES auto FACET entity.name"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "Network Metrics",
          "layout": {
            "column": 9,
            "row": 44,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "colors": {
              "seriesOverrides": [
                {
                  "color": "#ff0000",
                  "seriesName": "Errors / sec"
                }
              ]
            },
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 734056,
                "query": "FROM Metric SELECT max(k8s.pod.netRxBytesPerSecond) / 1000 AS 'Received KBps', max(k8s.pod.netTxBytesPerSecond) / 1000 AS 'Transmitted KBps', max(k8s.pod.netErrorsPerSecond) AS 'Errors / sec' WHERE entity.name LIKE '%mcflow-schema-registry-primary%' AND k8s.namespaceName = 'us-stg93-mesh-core' TIMESERIES AUTO"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        },
        {
          "title": "",
          "layout": {
            "column": 1,
            "row": 47,
            "width": 12,
            "height": 1
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.markdown"
          },
          "rawConfiguration": {
            "text": "### Schema Registry Log Metrics"
          }
        },
        {
          "title": "Total Logs",
          "layout": {
            "column": 1,
            "row": 48,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT count(*) As 'Total Logs' FROM Log WHERE message LIKE '%us-stg93-core-java-mesh-container-schema-registry%'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Total Error Logs",
          "layout": {
            "column": 3,
            "row": 48,
            "width": 2,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.billboard"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT count(*) As 'Total Logs' FROM Log WHERE message LIKE '%us-stg93-core-java-mesh-container-schema-registry%' AND message LIKE '%error%'"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Error Logs By Type",
          "layout": {
            "column": 5,
            "row": 48,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.table"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT count(*) As 'Total Logs' FROM Log WHERE message LIKE '%us-stg93-core-java-mesh-container-schema-registry%' AND message LIKE '%error%' FACET message"
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            }
          }
        },
        {
          "title": "Error Logs",
          "layout": {
            "column": 9,
            "row": 48,
            "width": 4,
            "height": 3
          },
          "linkedEntityGuids": null,
          "visualization": {
            "id": "viz.line"
          },
          "rawConfiguration": {
            "facet": {
              "showOtherSeries": false
            },
            "legend": {
              "enabled": true
            },
            "nrqlQueries": [
              {
                "accountId": 805553,
                "query": "SELECT count(*) As 'Total Logs' FROM Log WHERE message LIKE '%us-stg93-core-java-mesh-container-schema-registry%' AND message LIKE '%error%' FACET message TIMESERIES AUTO "
              }
            ],
            "platformOptions": {
              "ignoreTimeRange": false
            },
            "yAxisLeft": {
              "zero": true
            }
          }
        }
      ]
    }
  ]
}